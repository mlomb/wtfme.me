<!DOCTYPE html>
<html>
<head>
<!--
			  _    __
			 | |  / _|
	__      _| |_| |_ _ __ ___   ___   _ __ ___   ___
	\ \ /\ / / __|  _| '_ ` _ \ / _ \ | '_ ` _ \ / _ \
	 \ V  V /| |_| | | | | | | |  __/_| | | | | |  __/
	  \_/\_/  \__|_| |_| |_| |_|\___(_)_| |_| |_|\___|

					is open source
			https://github.com/mlomb/wtfme.me
-->
	<meta charset="utf-8">
	<title><%= title ? `${title} | wtfme.me` : 'wtfme.me' %></title>
	<meta name="description" content="<%= description %>">
	<meta name="keywords" content="memes,gifs,wtfmeme,<%= keywords.join(",") %>">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	<meta name="theme-color" content="#121212">
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="manifest" href="/manifest.json">
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-136310149-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-136310149-1');
	</script>
</head>
<body>
	<% if(module.length) { %>
		<div id="root"></div>
		<a href="/" title="wtfme.me"  class="back">
			<img src="/logo-small.png" alt="wtfme.me logo">
			<span>Go Back</span>
		</a>
		<script>window.meme_module = '<%= module %>';</script>
	<% } else { %>
		<div class="logo"><a href="https://wtfme.me"><img src="/logo.png" alt="wtfme.me logo"></a></div>
		<p class="logo-legend">An <a class="link" href="https://github.com/mlomb/wtfme.me" target="_blank">open source</a> collection of random memes and useless pages</p>
		<div class="gallery-container">
			<div class="title">Gallery</div>
			<div class="list">
			<% for(let meme of memes) { %>
				<% if(!meme.cover || meme.cover.hidden) continue; %>
				<a class="item" href="/<%- meme.path %><%- process.env.NODE_ENV === 'development' ? '.html' : '' %>" target="_blank">
					<% if(meme.cover.customizable) { %>
					<span class="customizable">CUSTOMIZABLE</span>
					<% } %>
					<% let hasCover = meme.cover.image && meme.cover.image.length > 0; %>
					<% if(hasCover) { %>
					<div class="image<%- meme.cover.spaced ? ' spaced' : ''%>" style="background-image: url(https://cdn.staticaly.com/img/<%- meme.cover.image %>)"></div>
					<% } %>
					<div class="overlay<%- !hasCover ? ' show' : ''%>">
						<span><%- meme.title %></span>
					</div>
					<% if(meme.cover.customizable) { %>
					<span class="customizable">CUSTOMIZABLE</span>
					<% } %>
				</a>
			<% } %>
			</div>
		</div>
	<% } %>
</body>
</html>
